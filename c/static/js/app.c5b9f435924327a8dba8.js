webpackJsonp([1],{"+BTi":function(e,t){},"4+WC":function(e,t){},GXEp:function(e,t){},I4nB:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n("I4nB"),n("+BTi");var a=n("STLj"),l=n.n(a),s=(n("X+ky"),n("HJMx")),u=n.n(s),o=(n("cDSy"),n("e0Bm")),r=n.n(o),i=(n("GXEp"),n("mtrD")),c=n.n(i),p=n("7+uW"),f=(n("tvR6"),{name:"ConvertPanel",data:function(){return{inputStr:"输入原调简谱，形如：\n\n[67]1234(12)\n\n可中途临时增加key：\n+1\n[67]1234(12)\n\n右边选择转换key即可输出结果。",resultStr:"",offset:0,selections:[{value:6,label:"+6(#F)"},{value:5,label:"+5(F)"},{value:4,label:"+4(E)"},{value:3,label:"+3(bE)"},{value:2,label:"+2(D)"},{value:1,label:"+1(#C)"},{value:-1,label:"-1(B)"},{value:-2,label:"-2(bB)"},{value:-3,label:"-3(A)"},{value:-4,label:"-4(bA)"},{value:-5,label:"-5(G)"}],keyNumMap:{1:25,"#1":26,2:27,"#2":28,3:29,"#3":30,4:30,"#4":31,5:32,"#5":33,6:34,"#6":35,7:36,"#7":37},numKeyMap:{25:"1",26:"#1",27:"2",28:"#2",29:"3",30:"4",31:"#4",32:"5",33:"#5",34:"6",35:"#6",36:"7"}}},methods:{handleUp:function(){var e=this.getNumsFromInput(this.inputStr);console.log("nums",e),e=this.handleNums(e,1),console.log("nums after offset",e),this.resultStr=this.getKeysFromNums(e)},handleDown:function(){var e=this.getNumsFromInput(this.inputStr);e=this.handleNums(e,-1),this.resultStr=this.getKeysFromNums(e)},handleChange:function(){console.log("handleChange.offset",this.offset);var e=this.getNumsFromInput(this.inputStr);e=this.handleNums(e,this.offset),this.resultStr=this.getKeysFromNums(e)},getNumsFromInput:function(e){console.log("getNumsFromInput.input",e);var t=0,n=!1,a=[],l=!1,s=0;for(var u in e){var o=e.charAt(u);if(console.log("getNumsFromInput.for.i",u,o),l)s=parseInt(o),l=!1;else if("{"!=o)if("}"!=o)if("["!=o)if("]"!=o)if("("!=o)if(")"!=o)if("#"!=o)if("+"!=o)if(o>=1&&o<=7){var r=o;n?(r=this.keyNumMap["#"+o]+12*t,n=!1):r=this.keyNumMap[o]+12*t,a.push(r+s)}else a.push(o);else l=!0;else n=!0;else t-=1;else t+=1;else t+=1;else t-=1;else t+=2;else t-=2}return a},getKeysFromNums:function(e){console.log("getKeysFromNums.nums",e);var t="";if(0==e.length)return t;for(var n=0;"number"!=typeof e[n];)t=t.concat(e[n]),n++;var a={};n<e.length&&(a=this.getLevel(e[n]),t=(t=t.concat(a.start)).concat(this.numKeyMap[e[n]-12*a.value]),n++);for(var l=n;l<e.length;l++){var s=e[l];if("number"==typeof s){var u=this.getLevel(s);console.log("getKeysFromNums.nums.i",l,s,u),a.value!=u.value?(t=t.concat(a.end),a=u,t=(t=t.concat(u.start)).concat(this.numKeyMap[s-12*u.value])):t=t.concat(this.numKeyMap[s-12*u.value])}else t=t.concat(a.end),a={value:0,start:"",end:""},t=t.concat(s)}return t=t.concat(a.end)},getLevel:function(e){return e>=25&&e<=36?{value:0,start:"",end:""}:e>=37&&e<=48?{value:1,start:"(",end:")"}:e>=13&&e<=24?{value:-1,start:"[",end:"]"}:e>=1&&e<=12?{value:-2,start:"{",end:"}"}:void 0},handleNums:function(e,t){var n=[];for(var a in e){var l=e[a];l>=1&&l<=48?n.push(e[a]+t):n.push(l)}return n}}}),m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"container"}},[n("el-input",{staticClass:"ipt",attrs:{type:"textarea",autosize:{minRows:20}},model:{value:e.inputStr,callback:function(t){e.inputStr=t},expression:"inputStr"}}),e._v(" "),n("div",{attrs:{id:"op"}},[n("el-select",{staticClass:"ops",staticStyle:{"max-width":"150px"},attrs:{placeholder:"选择升降调",size:"small"},on:{change:e.handleChange},model:{value:e.offset,callback:function(t){e.offset=t},expression:"offset"}},e._l(e.selections,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),n("el-button",{staticClass:"ops",attrs:{type:"primary",size:"small"},on:{click:e.handleChange}},[e._v("转换")])],1),e._v(" "),n("el-input",{staticClass:"opt",attrs:{type:"textarea",autosize:{minRows:20},placeholder:"转换结果将在这里显示"},model:{value:e.resultStr,callback:function(t){e.resultStr=t},expression:"resultStr"}})],1)},staticRenderFns:[]};var v={name:"app",components:{ConvertPanel:n("VU/8")(f,m,!1,function(e){n("iN+l")},null,null).exports}},h={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("ConvertPanel")],1)},staticRenderFns:[]};var d=n("VU/8")(v,h,!1,function(e){n("4+WC")},null,null).exports;p.default.config.productionTip=!1,p.default.component(c.a.name,c.a),p.default.component(r.a.name,r.a),p.default.component(u.a.name,u.a),p.default.component(l.a.name,l.a),new p.default({el:"#app",template:"<App/>",components:{App:d}})},"X+ky":function(e,t){},cDSy:function(e,t){},"iN+l":function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.c5b9f435924327a8dba8.js.map